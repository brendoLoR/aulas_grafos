<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>
    <script type="module">
        import { grafo } from './grafo_brendoniano/index.mjs'

        var saida = document.getElementById('saida')

        var nomeNodo = document.getElementById('nome_nodo')
        var idNodoPai = document.getElementById('id_nodo_pai')
        var pesoNodo = document.getElementById('peso_nodo')
        var btnAddNodo = document.getElementById('btn_add_nodo')
        // btnAddNodo.addEventListener('click', add_nodo)

        window.add_nodo = function add_nodo() {
            let _grafo = grafo.add_nodo(nomeNodo.value, idNodoPai.value, pesoNodo.value)
            imprime_grafo(_grafo)
        }
        window.imprime_grafo = function imprime_grafo(_grafo){
            saida.innerHTML = ""
            let ul = document.createElement('ul')

            _grafo.nodes.map(node => {
                var li = document.createElement('li')
                node.pais.map(pai => {
                    li.appendChild(document.createTextNode("Pai: " + pai.name + " | id: " + pai.id ))
                    li.appendChild(document.createElement('br'))
                })
                li.appendChild(document.createTextNode(node.name + " | id: " + node.id + " | custo: " + node.custo))
                node.filhos.map(filho => {
                    li.appendChild(document.createElement('br'))
                    li.appendChild(document.createTextNode("Filho: " + filho.node.name + " | id: " + filho.id + " Peso: " + filho.peso))
                })
                ul.appendChild(li)
            })
            saida.appendChild(ul)
        }
    </script>
    <!-- <script>
    </script> -->

    <div class="text-bg-secondary">

        <h1>Grafo do brendo</h1>
        <small>Escolha alguma das opçoes a baixo para continuar</small>

        <div class="container-wrap" style="height: 100%">
            <div class="row">
                <div class="col-md-6 text-bg-light border border-start-0 border border-top-0">
                    <h2>Menu</h2>
                    <ul>
                        <li><button>Iniciar um grafo</button></li>
                    </ul>
                    <hr>
                    <div>
                        <input class="form-control" type="text" id="nome_nodo" placeholder="Nome do nó" required>
                        <input class="form-control" type="number" id="id_nodo_pai" placeholder="ID nó pai || vazio">
                        <input class="form-control" type="number" id="peso_nodo" placeholder="peso || vazio">
                        <button class="btn btn-success" onclick="add_nodo()">ADD Node</button>

                        <!-- <form action="add_aresta()">
                            <input class="form-control" type="number" id="id_nodo_pai" placeholder="ID nó pai" required>
                            <input class="form-control" type="number" id="id_nodo_filho" placeholder="ID nó filho" required>
                            <input class="form-control" type="number" id="peso_nodo" placeholder="peso || vazio">
                            <input class="btn btn-success" type="submit" value="ADD Aresta">
                        </form> -->
                    </div>
                </div>
                <div class="col-md-6 text-bg-light">
                    <h2>Saida</h2>
                    <div class="card">
                        <div class="card-body text-bg-dark" id="saida">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>

</html>